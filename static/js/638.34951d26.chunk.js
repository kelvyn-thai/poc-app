"use strict";(self.webpackChunkpoc_app=self.webpackChunkpoc_app||[]).push([[638,928],{190:function(e,o,t){t.d(o,{Lp:function(){return _}});var r,a=t(7861),n=t(6170),i=(t(2685),t(1413)),s=t(5638),c=(t(8178),t(5904)),d=t(5671),f=t(3144),p=function(){function e(){(0,d.Z)(this,e),this.stack=void 0,this.stack=[]}return(0,f.Z)(e,[{key:"push",value:function(e){this.stack.push(e)}},{key:"pop",value:function(){this.stack.pop()}},{key:"peek",value:function(){return this.isEmpty()?void 0:this.stack[this.size-1]}},{key:"isEmpty",value:function(){return 0===this.size}},{key:"size",get:function(){return this.stack.length}},{key:"stackItems",get:function(){return this.stack}}]),e}(),u=t(627),h=t.n(u),l=(new p,new p),m=function e(o){var t;try{var a=o.hierachy,n=o.container,d=o.renderTooltip,f=o.width,p=o.height,u=s.Ys(n);if(!a)return void r.dispose();var m=a.geometry,v=a.children,y=void 0===v?[]:v,g=a.name,w=a.nameProperty,k=void 0===w?"name":w,O=a.id;r&&r.dispose(),t=u.append("div").attr("id",O).node(),(r=c.S1(t,void 0,{width:f,height:p})).showLoading(),function(e){var o=e.hierachy,t=e.mapName,r=e.mapEcharts,a=e.nameProperty,n=e.renderTooltip,i=o.geometry,d=o.regions,f=void 0===d?[]:d,p=s.PKp(f,s.Cn1);c.je(t,i);var u="#333D3F",l=s.$_Y(u);l.opacity=.5;var m=String(l),v={geo:{map:t,zoom:1,roam:!0,animation:!1,nameProperty:a,label:{show:!1},itemStyle:{areaColor:u,shadowColor:m,shadowOffsetX:0,shadowOffsetY:10}},series:[{name:"map",type:"map",map:t,selectedMode:!1,roam:!0,label:{show:!1,color:"#ffffff"},itemStyle:{areaColor:u,shadowColor:m,shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10},emphasis:{label:{color:"#ffffff"},itemStyle:{areaColor:"#6289AB",shadowColor:m,shadowOffsetX:0,shadowOffsetY:10}},data:f.map((function(e){var o=p(e),t=s.$_Y(o),r=t;r.opacity=1;var a=t;return a.opacity=.5,{name:e,label:{show:!1,color:"#FFF"},itemStyle:{areaColor:o,shadowColor:String(r),shadowOffsetX:0,shadowOffsetY:10},emphasis:{focus:"self",label:{color:"#FFFFFF",show:!0},itemStyle:{areaColor:o,shadowColor:String(a),shadowOffsetX:0,shadowOffsetY:10}}}}))}],tooltip:{show:!0,trigger:"item",formatter:function(e){var o=e.name,t=null===i||void 0===i?void 0:i.features.find((function(e){var t;return h()(null===e||void 0===e||null===(t=e.properties)||void 0===t?void 0:t.name,o)}));return t?n({feature:t,name:o}):""},padding:0,borderWidth:0}};r.setOption(v),r.hideLoading()}({hierachy:a,mapName:g,mapEcharts:r,nameProperty:k,renderTooltip:d});var C=l.isEmpty(),Z=function(e){var o,t=e.dataIndex,r=m.features[t];return r&&(o=y.find((function(e){var o;return h()(e.name,null===r||void 0===r||null===(o=r.properties)||void 0===o?void 0:o.name)}))),o};r.on("click",(function(t){var r=Z(t);r&&(l.push(a),e((0,i.Z)((0,i.Z)({},o),{},{hierachy:r})))})),r.on("dblclick",(function(t){var r=Z(t);if(!C&&!r){var a=l.peek();l.pop(),e((0,i.Z)((0,i.Z)({},o),{},{hierachy:a}))}})),r.on("georoam",(function(e){var o=r.getOption();e.zoom?(o.geo[0].zoom=o.series[0].zoom,o.geo[0].center=o.series[0].center):o.geo[0].center=o.series[0].center,r.setOption(o)}))}catch(S){}return t},v=t(7770),y=t(9439),g=t(4925),w=t(7144),k=t.n(w),O=t(220),C="D3Hierachy_styles_tooltip__IO1VA",Z=["data","renderTooltip","isLoading"],S=function(e){var o=e.data,t=e.renderTooltip,r=e.isLoading,c=(0,g.Z)(e,Z),d=a.useRef(null),f=function(e){var o,r=e.feature;return o="function"===typeof t?t(e):(0,v.jsx)("div",{children:Object.entries(null===r||void 0===r?void 0:r.properties).map((function(e){var o=(0,y.Z)(e,2),t=o[0],r=o[1];return(0,v.jsxs)("div",{className:"grid gap-3 ".concat(k()(C)),children:[(0,v.jsx)("div",{className:"font-medium text-base text-black",children:t}),r&&(0,v.jsx)("div",{children:r})]},t)}))}),O.renderToString(o)};return a.useEffect((function(){if(!r&&d.current){var e=m((0,i.Z)((0,i.Z)({container:d.current},o),{},{renderTooltip:f}));return function(){e&&s.Ys(e).remove()}}}),[d,o,t]),(0,v.jsx)(n.Z,(0,i.Z)((0,i.Z)({},(0,i.Z)((0,i.Z)({},c),{},{isLoading:r,ref:{ref:d}})),{},{children:!r&&!o.hierachy&&(0,v.jsx)("div",{children:"Geojson is not valid"})}))};S.defaultProps={renderTooltip:void 0};var _=a.memo(S)},8178:function(e,o,t){t.d(o,{V:function(){return r}});var r={PUBLIC_URL:"/poc-app",ASSETS_PATH:"".concat("/poc-app","/sampleData"),API_DOMAIN_URL:"".concat("https://app-portal-ppe1.envisioniot.com","/demo_service/v1.0")}},7069:function(e,o,t){t.r(o),t.d(o,{default:function(){return c}});var r=t(7861),a=t(190),n=t(825),i=t(7770),s=function(){var e=(0,n.useDataResourceStore)().hierachy;return e?(0,i.jsx)(a.Lp,{data:{hierachy:e,width:"100%",height:640},chartName:"Hierachy Chart"}):null},c=r.memo(s)}}]);
//# sourceMappingURL=638.34951d26.chunk.js.map