{"version":3,"file":"static/js/650.189f4404.chunk.js","mappings":"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","sources":["../node_modules/d3-hexbin/src/hexbin.js","../node_modules/d3-sankey/src/align.js","../node_modules/d3-sankey/node_modules/d3-array/src/sum.js","../node_modules/d3-sankey/node_modules/d3-array/src/max.js","../node_modules/d3-sankey/src/constant.js","../node_modules/d3-sankey/src/sankey.js","../node_modules/d3-sankey/node_modules/d3-array/src/min.js","../node_modules/d3-sankey/node_modules/d3-path/src/path.js","../node_modules/d3-sankey/node_modules/d3-shape/src/array.js","../node_modules/d3-sankey/node_modules/d3-shape/src/constant.js","../node_modules/d3-sankey/node_modules/d3-shape/src/point.js","../node_modules/d3-sankey/node_modules/d3-shape/src/link/index.js","../node_modules/d3-sankey/src/sankeyLinkHorizontal.js","../node_modules/lodash/_arrayIncludes.js","../node_modules/lodash/_arrayIncludesWith.js","../node_modules/lodash/_baseFindIndex.js","../node_modules/lodash/_baseIndexOf.js","../node_modules/lodash/_baseIsNaN.js","../node_modules/lodash/_baseUniq.js","../node_modules/lodash/_createSet.js","../node_modules/lodash/_strictIndexOf.js","../node_modules/lodash/isEmpty.js","../node_modules/lodash/isNumber.js","../node_modules/lodash/noop.js","../node_modules/lodash/uniq.js","../node_modules/idb/build/wrap-idb-value.js","../node_modules/idb/build/index.js"],"sourcesContent":["var thirdPi = Math.PI / 3,\n    angles = [0, thirdPi, 2 * thirdPi, 3 * thirdPi, 4 * thirdPi, 5 * thirdPi];\n\nfunction pointX(d) {\n  return d[0];\n}\n\nfunction pointY(d) {\n  return d[1];\n}\n\nexport default function() {\n  var x0 = 0,\n      y0 = 0,\n      x1 = 1,\n      y1 = 1,\n      x = pointX,\n      y = pointY,\n      r,\n      dx,\n      dy;\n\n  function hexbin(points) {\n    var binsById = {}, bins = [], i, n = points.length;\n\n    for (i = 0; i < n; ++i) {\n      if (isNaN(px = +x.call(null, point = points[i], i, points))\n          || isNaN(py = +y.call(null, point, i, points))) continue;\n\n      var point,\n          px,\n          py,\n          pj = Math.round(py = py / dy),\n          pi = Math.round(px = px / dx - (pj & 1) / 2),\n          py1 = py - pj;\n\n      if (Math.abs(py1) * 3 > 1) {\n        var px1 = px - pi,\n            pi2 = pi + (px < pi ? -1 : 1) / 2,\n            pj2 = pj + (py < pj ? -1 : 1),\n            px2 = px - pi2,\n            py2 = py - pj2;\n        if (px1 * px1 + py1 * py1 > px2 * px2 + py2 * py2) pi = pi2 + (pj & 1 ? 1 : -1) / 2, pj = pj2;\n      }\n\n      var id = pi + \"-\" + pj, bin = binsById[id];\n      if (bin) bin.push(point);\n      else {\n        bins.push(bin = binsById[id] = [point]);\n        bin.x = (pi + (pj & 1) / 2) * dx;\n        bin.y = pj * dy;\n      }\n    }\n\n    return bins;\n  }\n\n  function hexagon(radius) {\n    var x0 = 0, y0 = 0;\n    return angles.map(function(angle) {\n      var x1 = Math.sin(angle) * radius,\n          y1 = -Math.cos(angle) * radius,\n          dx = x1 - x0,\n          dy = y1 - y0;\n      x0 = x1, y0 = y1;\n      return [dx, dy];\n    });\n  }\n\n  hexbin.hexagon = function(radius) {\n    return \"m\" + hexagon(radius == null ? r : +radius).join(\"l\") + \"z\";\n  };\n\n  hexbin.centers = function() {\n    var centers = [],\n        j = Math.round(y0 / dy),\n        i = Math.round(x0 / dx);\n    for (var y = j * dy; y < y1 + r; y += dy, ++j) {\n      for (var x = i * dx + (j & 1) * dx / 2; x < x1 + dx / 2; x += dx) {\n        centers.push([x, y]);\n      }\n    }\n    return centers;\n  };\n\n  hexbin.mesh = function() {\n    var fragment = hexagon(r).slice(0, 4).join(\"l\");\n    return hexbin.centers().map(function(p) { return \"M\" + p + \"m\" + fragment; }).join(\"\");\n  };\n\n  hexbin.x = function(_) {\n    return arguments.length ? (x = _, hexbin) : x;\n  };\n\n  hexbin.y = function(_) {\n    return arguments.length ? (y = _, hexbin) : y;\n  };\n\n  hexbin.radius = function(_) {\n    return arguments.length ? (r = +_, dx = r * 2 * Math.sin(thirdPi), dy = r * 1.5, hexbin) : r;\n  };\n\n  hexbin.size = function(_) {\n    return arguments.length ? (x0 = y0 = 0, x1 = +_[0], y1 = +_[1], hexbin) : [x1 - x0, y1 - y0];\n  };\n\n  hexbin.extent = function(_) {\n    return arguments.length ? (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1], hexbin) : [[x0, y0], [x1, y1]];\n  };\n\n  return hexbin.radius(1);\n}\n","import {min} from \"d3-array\";\n\nfunction targetDepth(d) {\n  return d.target.depth;\n}\n\nexport function left(node) {\n  return node.depth;\n}\n\nexport function right(node, n) {\n  return n - 1 - node.height;\n}\n\nexport function justify(node, n) {\n  return node.sourceLinks.length ? node.depth : n - 1;\n}\n\nexport function center(node) {\n  return node.targetLinks.length ? node.depth\n      : node.sourceLinks.length ? min(node.sourceLinks, targetDepth) - 1\n      : 0;\n}\n","export default function sum(values, valueof) {\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        sum += value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        sum += value;\n      }\n    }\n  }\n  return sum;\n}\n","export default function max(values, valueof) {\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  }\n  return max;\n}\n","export default function constant(x) {\n  return function() {\n    return x;\n  };\n}\n","import {max, min, sum} from \"d3-array\";\nimport {justify} from \"./align.js\";\nimport constant from \"./constant.js\";\n\nfunction ascendingSourceBreadth(a, b) {\n  return ascendingBreadth(a.source, b.source) || a.index - b.index;\n}\n\nfunction ascendingTargetBreadth(a, b) {\n  return ascendingBreadth(a.target, b.target) || a.index - b.index;\n}\n\nfunction ascendingBreadth(a, b) {\n  return a.y0 - b.y0;\n}\n\nfunction value(d) {\n  return d.value;\n}\n\nfunction defaultId(d) {\n  return d.index;\n}\n\nfunction defaultNodes(graph) {\n  return graph.nodes;\n}\n\nfunction defaultLinks(graph) {\n  return graph.links;\n}\n\nfunction find(nodeById, id) {\n  const node = nodeById.get(id);\n  if (!node) throw new Error(\"missing: \" + id);\n  return node;\n}\n\nfunction computeLinkBreadths({nodes}) {\n  for (const node of nodes) {\n    let y0 = node.y0;\n    let y1 = y0;\n    for (const link of node.sourceLinks) {\n      link.y0 = y0 + link.width / 2;\n      y0 += link.width;\n    }\n    for (const link of node.targetLinks) {\n      link.y1 = y1 + link.width / 2;\n      y1 += link.width;\n    }\n  }\n}\n\nexport default function Sankey() {\n  let x0 = 0, y0 = 0, x1 = 1, y1 = 1; // extent\n  let dx = 24; // nodeWidth\n  let dy = 8, py; // nodePadding\n  let id = defaultId;\n  let align = justify;\n  let sort;\n  let linkSort;\n  let nodes = defaultNodes;\n  let links = defaultLinks;\n  let iterations = 6;\n\n  function sankey() {\n    const graph = {nodes: nodes.apply(null, arguments), links: links.apply(null, arguments)};\n    computeNodeLinks(graph);\n    computeNodeValues(graph);\n    computeNodeDepths(graph);\n    computeNodeHeights(graph);\n    computeNodeBreadths(graph);\n    computeLinkBreadths(graph);\n    return graph;\n  }\n\n  sankey.update = function(graph) {\n    computeLinkBreadths(graph);\n    return graph;\n  };\n\n  sankey.nodeId = function(_) {\n    return arguments.length ? (id = typeof _ === \"function\" ? _ : constant(_), sankey) : id;\n  };\n\n  sankey.nodeAlign = function(_) {\n    return arguments.length ? (align = typeof _ === \"function\" ? _ : constant(_), sankey) : align;\n  };\n\n  sankey.nodeSort = function(_) {\n    return arguments.length ? (sort = _, sankey) : sort;\n  };\n\n  sankey.nodeWidth = function(_) {\n    return arguments.length ? (dx = +_, sankey) : dx;\n  };\n\n  sankey.nodePadding = function(_) {\n    return arguments.length ? (dy = py = +_, sankey) : dy;\n  };\n\n  sankey.nodes = function(_) {\n    return arguments.length ? (nodes = typeof _ === \"function\" ? _ : constant(_), sankey) : nodes;\n  };\n\n  sankey.links = function(_) {\n    return arguments.length ? (links = typeof _ === \"function\" ? _ : constant(_), sankey) : links;\n  };\n\n  sankey.linkSort = function(_) {\n    return arguments.length ? (linkSort = _, sankey) : linkSort;\n  };\n\n  sankey.size = function(_) {\n    return arguments.length ? (x0 = y0 = 0, x1 = +_[0], y1 = +_[1], sankey) : [x1 - x0, y1 - y0];\n  };\n\n  sankey.extent = function(_) {\n    return arguments.length ? (x0 = +_[0][0], x1 = +_[1][0], y0 = +_[0][1], y1 = +_[1][1], sankey) : [[x0, y0], [x1, y1]];\n  };\n\n  sankey.iterations = function(_) {\n    return arguments.length ? (iterations = +_, sankey) : iterations;\n  };\n\n  function computeNodeLinks({nodes, links}) {\n    for (const [i, node] of nodes.entries()) {\n      node.index = i;\n      node.sourceLinks = [];\n      node.targetLinks = [];\n    }\n    const nodeById = new Map(nodes.map((d, i) => [id(d, i, nodes), d]));\n    for (const [i, link] of links.entries()) {\n      link.index = i;\n      let {source, target} = link;\n      if (typeof source !== \"object\") source = link.source = find(nodeById, source);\n      if (typeof target !== \"object\") target = link.target = find(nodeById, target);\n      source.sourceLinks.push(link);\n      target.targetLinks.push(link);\n    }\n    if (linkSort != null) {\n      for (const {sourceLinks, targetLinks} of nodes) {\n        sourceLinks.sort(linkSort);\n        targetLinks.sort(linkSort);\n      }\n    }\n  }\n\n  function computeNodeValues({nodes}) {\n    for (const node of nodes) {\n      node.value = node.fixedValue === undefined\n          ? Math.max(sum(node.sourceLinks, value), sum(node.targetLinks, value))\n          : node.fixedValue;\n    }\n  }\n\n  function computeNodeDepths({nodes}) {\n    const n = nodes.length;\n    let current = new Set(nodes);\n    let next = new Set;\n    let x = 0;\n    while (current.size) {\n      for (const node of current) {\n        node.depth = x;\n        for (const {target} of node.sourceLinks) {\n          next.add(target);\n        }\n      }\n      if (++x > n) throw new Error(\"circular link\");\n      current = next;\n      next = new Set;\n    }\n  }\n\n  function computeNodeHeights({nodes}) {\n    const n = nodes.length;\n    let current = new Set(nodes);\n    let next = new Set;\n    let x = 0;\n    while (current.size) {\n      for (const node of current) {\n        node.height = x;\n        for (const {source} of node.targetLinks) {\n          next.add(source);\n        }\n      }\n      if (++x > n) throw new Error(\"circular link\");\n      current = next;\n      next = new Set;\n    }\n  }\n\n  function computeNodeLayers({nodes}) {\n    const x = max(nodes, d => d.depth) + 1;\n    const kx = (x1 - x0 - dx) / (x - 1);\n    const columns = new Array(x);\n    for (const node of nodes) {\n      const i = Math.max(0, Math.min(x - 1, Math.floor(align.call(null, node, x))));\n      node.layer = i;\n      node.x0 = x0 + i * kx;\n      node.x1 = node.x0 + dx;\n      if (columns[i]) columns[i].push(node);\n      else columns[i] = [node];\n    }\n    if (sort) for (const column of columns) {\n      column.sort(sort);\n    }\n    return columns;\n  }\n\n  function initializeNodeBreadths(columns) {\n    const ky = min(columns, c => (y1 - y0 - (c.length - 1) * py) / sum(c, value));\n    for (const nodes of columns) {\n      let y = y0;\n      for (const node of nodes) {\n        node.y0 = y;\n        node.y1 = y + node.value * ky;\n        y = node.y1 + py;\n        for (const link of node.sourceLinks) {\n          link.width = link.value * ky;\n        }\n      }\n      y = (y1 - y + py) / (nodes.length + 1);\n      for (let i = 0; i < nodes.length; ++i) {\n        const node = nodes[i];\n        node.y0 += y * (i + 1);\n        node.y1 += y * (i + 1);\n      }\n      reorderLinks(nodes);\n    }\n  }\n\n  function computeNodeBreadths(graph) {\n    const columns = computeNodeLayers(graph);\n    py = Math.min(dy, (y1 - y0) / (max(columns, c => c.length) - 1));\n    initializeNodeBreadths(columns);\n    for (let i = 0; i < iterations; ++i) {\n      const alpha = Math.pow(0.99, i);\n      const beta = Math.max(1 - alpha, (i + 1) / iterations);\n      relaxRightToLeft(columns, alpha, beta);\n      relaxLeftToRight(columns, alpha, beta);\n    }\n  }\n\n  // Reposition each node based on its incoming (target) links.\n  function relaxLeftToRight(columns, alpha, beta) {\n    for (let i = 1, n = columns.length; i < n; ++i) {\n      const column = columns[i];\n      for (const target of column) {\n        let y = 0;\n        let w = 0;\n        for (const {source, value} of target.targetLinks) {\n          let v = value * (target.layer - source.layer);\n          y += targetTop(source, target) * v;\n          w += v;\n        }\n        if (!(w > 0)) continue;\n        let dy = (y / w - target.y0) * alpha;\n        target.y0 += dy;\n        target.y1 += dy;\n        reorderNodeLinks(target);\n      }\n      if (sort === undefined) column.sort(ascendingBreadth);\n      resolveCollisions(column, beta);\n    }\n  }\n\n  // Reposition each node based on its outgoing (source) links.\n  function relaxRightToLeft(columns, alpha, beta) {\n    for (let n = columns.length, i = n - 2; i >= 0; --i) {\n      const column = columns[i];\n      for (const source of column) {\n        let y = 0;\n        let w = 0;\n        for (const {target, value} of source.sourceLinks) {\n          let v = value * (target.layer - source.layer);\n          y += sourceTop(source, target) * v;\n          w += v;\n        }\n        if (!(w > 0)) continue;\n        let dy = (y / w - source.y0) * alpha;\n        source.y0 += dy;\n        source.y1 += dy;\n        reorderNodeLinks(source);\n      }\n      if (sort === undefined) column.sort(ascendingBreadth);\n      resolveCollisions(column, beta);\n    }\n  }\n\n  function resolveCollisions(nodes, alpha) {\n    const i = nodes.length >> 1;\n    const subject = nodes[i];\n    resolveCollisionsBottomToTop(nodes, subject.y0 - py, i - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, subject.y1 + py, i + 1, alpha);\n    resolveCollisionsBottomToTop(nodes, y1, nodes.length - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, y0, 0, alpha);\n  }\n\n  // Push any overlapping nodes down.\n  function resolveCollisionsTopToBottom(nodes, y, i, alpha) {\n    for (; i < nodes.length; ++i) {\n      const node = nodes[i];\n      const dy = (y - node.y0) * alpha;\n      if (dy > 1e-6) node.y0 += dy, node.y1 += dy;\n      y = node.y1 + py;\n    }\n  }\n\n  // Push any overlapping nodes up.\n  function resolveCollisionsBottomToTop(nodes, y, i, alpha) {\n    for (; i >= 0; --i) {\n      const node = nodes[i];\n      const dy = (node.y1 - y) * alpha;\n      if (dy > 1e-6) node.y0 -= dy, node.y1 -= dy;\n      y = node.y0 - py;\n    }\n  }\n\n  function reorderNodeLinks({sourceLinks, targetLinks}) {\n    if (linkSort === undefined) {\n      for (const {source: {sourceLinks}} of targetLinks) {\n        sourceLinks.sort(ascendingTargetBreadth);\n      }\n      for (const {target: {targetLinks}} of sourceLinks) {\n        targetLinks.sort(ascendingSourceBreadth);\n      }\n    }\n  }\n\n  function reorderLinks(nodes) {\n    if (linkSort === undefined) {\n      for (const {sourceLinks, targetLinks} of nodes) {\n        sourceLinks.sort(ascendingTargetBreadth);\n        targetLinks.sort(ascendingSourceBreadth);\n      }\n    }\n  }\n\n  // Returns the target.y0 that would produce an ideal link from source to target.\n  function targetTop(source, target) {\n    let y = source.y0 - (source.sourceLinks.length - 1) * py / 2;\n    for (const {target: node, width} of source.sourceLinks) {\n      if (node === target) break;\n      y += width + py;\n    }\n    for (const {source: node, width} of target.targetLinks) {\n      if (node === source) break;\n      y -= width;\n    }\n    return y;\n  }\n\n  // Returns the source.y0 that would produce an ideal link from source to target.\n  function sourceTop(source, target) {\n    let y = target.y0 - (target.targetLinks.length - 1) * py / 2;\n    for (const {source: node, width} of target.targetLinks) {\n      if (node === source) break;\n      y += width + py;\n    }\n    for (const {target: node, width} of source.sourceLinks) {\n      if (node === target) break;\n      y -= width;\n    }\n    return y;\n  }\n\n  return sankey;\n}\n","export default function min(values, valueof) {\n  let min;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  }\n  return min;\n}\n","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? Weâ€™re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export var slice = Array.prototype.slice;\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport {slice} from \"../array.js\";\nimport constant from \"../constant.js\";\nimport {x as pointX, y as pointY} from \"../point.js\";\nimport pointRadial from \"../pointRadial.js\";\n\nfunction linkSource(d) {\n  return d.source;\n}\n\nfunction linkTarget(d) {\n  return d.target;\n}\n\nfunction link(curve) {\n  var source = linkSource,\n      target = linkTarget,\n      x = pointX,\n      y = pointY,\n      context = null;\n\n  function link() {\n    var buffer, argv = slice.call(arguments), s = source.apply(this, argv), t = target.apply(this, argv);\n    if (!context) context = buffer = path();\n    curve(context, +x.apply(this, (argv[0] = s, argv)), +y.apply(this, argv), +x.apply(this, (argv[0] = t, argv)), +y.apply(this, argv));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  link.source = function(_) {\n    return arguments.length ? (source = _, link) : source;\n  };\n\n  link.target = function(_) {\n    return arguments.length ? (target = _, link) : target;\n  };\n\n  link.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), link) : x;\n  };\n\n  link.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), link) : y;\n  };\n\n  link.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), link) : context;\n  };\n\n  return link;\n}\n\nfunction curveHorizontal(context, x0, y0, x1, y1) {\n  context.moveTo(x0, y0);\n  context.bezierCurveTo(x0 = (x0 + x1) / 2, y0, x0, y1, x1, y1);\n}\n\nfunction curveVertical(context, x0, y0, x1, y1) {\n  context.moveTo(x0, y0);\n  context.bezierCurveTo(x0, y0 = (y0 + y1) / 2, x1, y0, x1, y1);\n}\n\nfunction curveRadial(context, x0, y0, x1, y1) {\n  var p0 = pointRadial(x0, y0),\n      p1 = pointRadial(x0, y0 = (y0 + y1) / 2),\n      p2 = pointRadial(x1, y0),\n      p3 = pointRadial(x1, y1);\n  context.moveTo(p0[0], p0[1]);\n  context.bezierCurveTo(p1[0], p1[1], p2[0], p2[1], p3[0], p3[1]);\n}\n\nexport function linkHorizontal() {\n  return link(curveHorizontal);\n}\n\nexport function linkVertical() {\n  return link(curveVertical);\n}\n\nexport function linkRadial() {\n  var l = link(curveRadial);\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n  return l;\n}\n","import {linkHorizontal} from \"d3-shape\";\n\nfunction horizontalSource(d) {\n  return [d.source.x1, d.y0];\n}\n\nfunction horizontalTarget(d) {\n  return [d.target.x0, d.y1];\n}\n\nexport default function() {\n  return linkHorizontal()\n      .source(horizontalSource)\n      .target(horizontalTarget);\n}\n","var baseIndexOf = require('./_baseIndexOf');\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\nmodule.exports = arrayIncludes;\n","/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arrayIncludesWith;\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIsNaN = require('./_baseIsNaN'),\n    strictIndexOf = require('./_strictIndexOf');\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\nmodule.exports = baseIndexOf;\n","/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nmodule.exports = baseIsNaN;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    cacheHas = require('./_cacheHas'),\n    createSet = require('./_createSet'),\n    setToArray = require('./_setToArray');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseUniq;\n","var Set = require('./_Set'),\n    noop = require('./noop'),\n    setToArray = require('./_setToArray');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n  return new Set(values);\n};\n\nmodule.exports = createSet;\n","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = strictIndexOf;\n","var baseKeys = require('./_baseKeys'),\n    getTag = require('./_getTag'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLike = require('./isArrayLike'),\n    isBuffer = require('./isBuffer'),\n    isPrototype = require('./_isPrototype'),\n    isTypedArray = require('./isTypedArray');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if `value` is an empty object, collection, map, or set.\n *\n * Objects are considered empty if they have no own enumerable string keyed\n * properties.\n *\n * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n * jQuery-like collections are considered empty if they have a `length` of `0`.\n * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n * @example\n *\n * _.isEmpty(null);\n * // => true\n *\n * _.isEmpty(true);\n * // => true\n *\n * _.isEmpty(1);\n * // => true\n *\n * _.isEmpty([1, 2, 3]);\n * // => false\n *\n * _.isEmpty({ 'a': 1 });\n * // => false\n */\nfunction isEmpty(value) {\n  if (value == null) {\n    return true;\n  }\n  if (isArrayLike(value) &&\n      (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n        isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n    return !value.length;\n  }\n  var tag = getTag(value);\n  if (tag == mapTag || tag == setTag) {\n    return !value.size;\n  }\n  if (isPrototype(value)) {\n    return !baseKeys(value).length;\n  }\n  for (var key in value) {\n    if (hasOwnProperty.call(value, key)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = isEmpty;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar numberTag = '[object Number]';\n\n/**\n * Checks if `value` is classified as a `Number` primitive or object.\n *\n * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n * classified as numbers, use the `_.isFinite` method.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n * @example\n *\n * _.isNumber(3);\n * // => true\n *\n * _.isNumber(Number.MIN_VALUE);\n * // => true\n *\n * _.isNumber(Infinity);\n * // => true\n *\n * _.isNumber('3');\n * // => false\n */\nfunction isNumber(value) {\n  return typeof value == 'number' ||\n    (isObjectLike(value) && baseGetTag(value) == numberTag);\n}\n\nmodule.exports = isNumber;\n","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nmodule.exports = noop;\n","var baseUniq = require('./_baseUniq');\n\n/**\n * Creates a duplicate-free version of an array, using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons, in which only the first occurrence of each element\n * is kept. The order of result values is determined by the order they occur\n * in the array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniq([2, 1, 2]);\n * // => [2, 1]\n */\nfunction uniq(array) {\n  return (array && array.length) ? baseUniq(array) : [];\n}\n\nmodule.exports = uniq;\n","const instanceOfAny = (object, constructors) => constructors.some((c) => object instanceof c);\n\nlet idbProxyableTypes;\nlet cursorAdvanceMethods;\n// This is a function to prevent it throwing up in node environments.\nfunction getIdbProxyableTypes() {\n    return (idbProxyableTypes ||\n        (idbProxyableTypes = [\n            IDBDatabase,\n            IDBObjectStore,\n            IDBIndex,\n            IDBCursor,\n            IDBTransaction,\n        ]));\n}\n// This is a function to prevent it throwing up in node environments.\nfunction getCursorAdvanceMethods() {\n    return (cursorAdvanceMethods ||\n        (cursorAdvanceMethods = [\n            IDBCursor.prototype.advance,\n            IDBCursor.prototype.continue,\n            IDBCursor.prototype.continuePrimaryKey,\n        ]));\n}\nconst cursorRequestMap = new WeakMap();\nconst transactionDoneMap = new WeakMap();\nconst transactionStoreNamesMap = new WeakMap();\nconst transformCache = new WeakMap();\nconst reverseTransformCache = new WeakMap();\nfunction promisifyRequest(request) {\n    const promise = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            request.removeEventListener('success', success);\n            request.removeEventListener('error', error);\n        };\n        const success = () => {\n            resolve(wrap(request.result));\n            unlisten();\n        };\n        const error = () => {\n            reject(request.error);\n            unlisten();\n        };\n        request.addEventListener('success', success);\n        request.addEventListener('error', error);\n    });\n    promise\n        .then((value) => {\n        // Since cursoring reuses the IDBRequest (*sigh*), we cache it for later retrieval\n        // (see wrapFunction).\n        if (value instanceof IDBCursor) {\n            cursorRequestMap.set(value, request);\n        }\n        // Catching to avoid \"Uncaught Promise exceptions\"\n    })\n        .catch(() => { });\n    // This mapping exists in reverseTransformCache but doesn't doesn't exist in transformCache. This\n    // is because we create many promises from a single IDBRequest.\n    reverseTransformCache.set(promise, request);\n    return promise;\n}\nfunction cacheDonePromiseForTransaction(tx) {\n    // Early bail if we've already created a done promise for this transaction.\n    if (transactionDoneMap.has(tx))\n        return;\n    const done = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            tx.removeEventListener('complete', complete);\n            tx.removeEventListener('error', error);\n            tx.removeEventListener('abort', error);\n        };\n        const complete = () => {\n            resolve();\n            unlisten();\n        };\n        const error = () => {\n            reject(tx.error || new DOMException('AbortError', 'AbortError'));\n            unlisten();\n        };\n        tx.addEventListener('complete', complete);\n        tx.addEventListener('error', error);\n        tx.addEventListener('abort', error);\n    });\n    // Cache it for later retrieval.\n    transactionDoneMap.set(tx, done);\n}\nlet idbProxyTraps = {\n    get(target, prop, receiver) {\n        if (target instanceof IDBTransaction) {\n            // Special handling for transaction.done.\n            if (prop === 'done')\n                return transactionDoneMap.get(target);\n            // Polyfill for objectStoreNames because of Edge.\n            if (prop === 'objectStoreNames') {\n                return target.objectStoreNames || transactionStoreNamesMap.get(target);\n            }\n            // Make tx.store return the only store in the transaction, or undefined if there are many.\n            if (prop === 'store') {\n                return receiver.objectStoreNames[1]\n                    ? undefined\n                    : receiver.objectStore(receiver.objectStoreNames[0]);\n            }\n        }\n        // Else transform whatever we get back.\n        return wrap(target[prop]);\n    },\n    set(target, prop, value) {\n        target[prop] = value;\n        return true;\n    },\n    has(target, prop) {\n        if (target instanceof IDBTransaction &&\n            (prop === 'done' || prop === 'store')) {\n            return true;\n        }\n        return prop in target;\n    },\n};\nfunction replaceTraps(callback) {\n    idbProxyTraps = callback(idbProxyTraps);\n}\nfunction wrapFunction(func) {\n    // Due to expected object equality (which is enforced by the caching in `wrap`), we\n    // only create one new func per func.\n    // Edge doesn't support objectStoreNames (booo), so we polyfill it here.\n    if (func === IDBDatabase.prototype.transaction &&\n        !('objectStoreNames' in IDBTransaction.prototype)) {\n        return function (storeNames, ...args) {\n            const tx = func.call(unwrap(this), storeNames, ...args);\n            transactionStoreNamesMap.set(tx, storeNames.sort ? storeNames.sort() : [storeNames]);\n            return wrap(tx);\n        };\n    }\n    // Cursor methods are special, as the behaviour is a little more different to standard IDB. In\n    // IDB, you advance the cursor and wait for a new 'success' on the IDBRequest that gave you the\n    // cursor. It's kinda like a promise that can resolve with many values. That doesn't make sense\n    // with real promises, so each advance methods returns a new promise for the cursor object, or\n    // undefined if the end of the cursor has been reached.\n    if (getCursorAdvanceMethods().includes(func)) {\n        return function (...args) {\n            // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n            // the original object.\n            func.apply(unwrap(this), args);\n            return wrap(cursorRequestMap.get(this));\n        };\n    }\n    return function (...args) {\n        // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n        // the original object.\n        return wrap(func.apply(unwrap(this), args));\n    };\n}\nfunction transformCachableValue(value) {\n    if (typeof value === 'function')\n        return wrapFunction(value);\n    // This doesn't return, it just creates a 'done' promise for the transaction,\n    // which is later returned for transaction.done (see idbObjectHandler).\n    if (value instanceof IDBTransaction)\n        cacheDonePromiseForTransaction(value);\n    if (instanceOfAny(value, getIdbProxyableTypes()))\n        return new Proxy(value, idbProxyTraps);\n    // Return the same value back if we're not going to transform it.\n    return value;\n}\nfunction wrap(value) {\n    // We sometimes generate multiple promises from a single IDBRequest (eg when cursoring), because\n    // IDB is weird and a single IDBRequest can yield many responses, so these can't be cached.\n    if (value instanceof IDBRequest)\n        return promisifyRequest(value);\n    // If we've already transformed this value before, reuse the transformed value.\n    // This is faster, but it also provides object equality.\n    if (transformCache.has(value))\n        return transformCache.get(value);\n    const newValue = transformCachableValue(value);\n    // Not all types are transformed.\n    // These may be primitive types, so they can't be WeakMap keys.\n    if (newValue !== value) {\n        transformCache.set(value, newValue);\n        reverseTransformCache.set(newValue, value);\n    }\n    return newValue;\n}\nconst unwrap = (value) => reverseTransformCache.get(value);\n\nexport { reverseTransformCache as a, instanceOfAny as i, replaceTraps as r, unwrap as u, wrap as w };\n","import { w as wrap, r as replaceTraps } from './wrap-idb-value.js';\nexport { u as unwrap, w as wrap } from './wrap-idb-value.js';\n\n/**\n * Open a database.\n *\n * @param name Name of the database.\n * @param version Schema version.\n * @param callbacks Additional callbacks.\n */\nfunction openDB(name, version, { blocked, upgrade, blocking, terminated } = {}) {\n    const request = indexedDB.open(name, version);\n    const openPromise = wrap(request);\n    if (upgrade) {\n        request.addEventListener('upgradeneeded', (event) => {\n            upgrade(wrap(request.result), event.oldVersion, event.newVersion, wrap(request.transaction));\n        });\n    }\n    if (blocked)\n        request.addEventListener('blocked', () => blocked());\n    openPromise\n        .then((db) => {\n        if (terminated)\n            db.addEventListener('close', () => terminated());\n        if (blocking)\n            db.addEventListener('versionchange', () => blocking());\n    })\n        .catch(() => { });\n    return openPromise;\n}\n/**\n * Delete a database.\n *\n * @param name Name of the database.\n */\nfunction deleteDB(name, { blocked } = {}) {\n    const request = indexedDB.deleteDatabase(name);\n    if (blocked)\n        request.addEventListener('blocked', () => blocked());\n    return wrap(request).then(() => undefined);\n}\n\nconst readMethods = ['get', 'getKey', 'getAll', 'getAllKeys', 'count'];\nconst writeMethods = ['put', 'add', 'delete', 'clear'];\nconst cachedMethods = new Map();\nfunction getMethod(target, prop) {\n    if (!(target instanceof IDBDatabase &&\n        !(prop in target) &&\n        typeof prop === 'string')) {\n        return;\n    }\n    if (cachedMethods.get(prop))\n        return cachedMethods.get(prop);\n    const targetFuncName = prop.replace(/FromIndex$/, '');\n    const useIndex = prop !== targetFuncName;\n    const isWrite = writeMethods.includes(targetFuncName);\n    if (\n    // Bail if the target doesn't exist on the target. Eg, getAll isn't in Edge.\n    !(targetFuncName in (useIndex ? IDBIndex : IDBObjectStore).prototype) ||\n        !(isWrite || readMethods.includes(targetFuncName))) {\n        return;\n    }\n    const method = async function (storeName, ...args) {\n        // isWrite ? 'readwrite' : undefined gzipps better, but fails in Edge :(\n        const tx = this.transaction(storeName, isWrite ? 'readwrite' : 'readonly');\n        let target = tx.store;\n        if (useIndex)\n            target = target.index(args.shift());\n        // Must reject if op rejects.\n        // If it's a write operation, must reject if tx.done rejects.\n        // Must reject with op rejection first.\n        // Must resolve with op value.\n        // Must handle both promises (no unhandled rejections)\n        return (await Promise.all([\n            target[targetFuncName](...args),\n            isWrite && tx.done,\n        ]))[0];\n    };\n    cachedMethods.set(prop, method);\n    return method;\n}\nreplaceTraps((oldTraps) => ({\n    ...oldTraps,\n    get: (target, prop, receiver) => getMethod(target, prop) || oldTraps.get(target, prop, receiver),\n    has: (target, prop) => !!getMethod(target, prop) || oldTraps.has(target, prop),\n}));\n\nexport { deleteDB, openDB };\n"],"names":["thirdPi","Math","PI","angles","pointX","d","pointY","r","dx","dy","x0","y0","x1","y1","x","y","hexbin","points","i","binsById","bins","n","length","isNaN","px","call","point","py","pj","round","pi","py1","abs","px1","pi2","pj2","px2","py2","id","bin","push","hexagon","radius","map","angle","sin","cos","join","centers","j","mesh","fragment","slice","p","_","arguments","size","extent","justify","node","sourceLinks","depth","sum","values","valueof","undefined","value","index","max","constant","ascendingSourceBreadth","a","b","ascendingBreadth","source","ascendingTargetBreadth","target","defaultId","defaultNodes","graph","nodes","defaultLinks","links","find","nodeById","get","Error","computeLinkBreadths","link","width","targetLinks","Sankey","sort","linkSort","align","iterations","sankey","apply","computeNodeLinks","computeNodeValues","computeNodeDepths","computeNodeHeights","computeNodeBreadths","entries","Map","fixedValue","current","Set","next","add","height","initializeNodeBreadths","columns","ky","min","c","reorderLinks","kx","Array","floor","layer","computeNodeLayers","alpha","pow","beta","relaxRightToLeft","relaxLeftToRight","column","w","v","targetTop","reorderNodeLinks","resolveCollisions","sourceTop","subject","resolveCollisionsBottomToTop","resolveCollisionsTopToBottom","update","nodeId","nodeAlign","nodeSort","nodeWidth","nodePadding","tau","epsilon","tauEpsilon","Path","this","_x0","_y0","_x1","_y1","path","prototype","constructor","moveTo","closePath","lineTo","quadraticCurveTo","bezierCurveTo","x2","y2","arcTo","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","sqrt","l01","l","tan","acos","t01","t21","arc","a0","a1","ccw","cw","da","rect","h","toString","linkSource","linkTarget","curve","context","buffer","argv","s","t","curveHorizontal","horizontalSource","horizontalTarget","baseIndexOf","require","module","exports","array","comparator","predicate","fromIndex","fromRight","baseFindIndex","baseIsNaN","strictIndexOf","SetCache","arrayIncludes","arrayIncludesWith","cacheHas","createSet","setToArray","iteratee","includes","isCommon","result","seen","set","outer","computed","seenIndex","noop","baseKeys","getTag","isArguments","isArray","isArrayLike","isBuffer","isPrototype","isTypedArray","hasOwnProperty","Object","splice","tag","key","baseGetTag","isObjectLike","baseUniq","idbProxyableTypes","cursorAdvanceMethods","cursorRequestMap","WeakMap","transactionDoneMap","transactionStoreNamesMap","transformCache","reverseTransformCache","idbProxyTraps","prop","receiver","IDBTransaction","objectStoreNames","objectStore","wrap","has","wrapFunction","func","IDBDatabase","transaction","IDBCursor","advance","continue","continuePrimaryKey","args","unwrap","storeNames","tx","transformCachableValue","done","Promise","resolve","reject","unlisten","removeEventListener","complete","error","DOMException","addEventListener","cacheDonePromiseForTransaction","object","IDBObjectStore","IDBIndex","some","Proxy","IDBRequest","request","promise","success","then","catch","promisifyRequest","newValue","openDB","name","version","blocked","upgrade","blocking","terminated","indexedDB","open","openPromise","event","oldVersion","newVersion","db","readMethods","writeMethods","cachedMethods","getMethod","targetFuncName","replace","useIndex","isWrite","method","storeName","store","shift","all","oldTraps","callback"],"sourceRoot":""}