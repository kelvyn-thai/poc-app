"use strict";(self.webpackChunkpoc_app=self.webpackChunkpoc_app||[]).push([[370],{6611:function(t,e,r){r.d(e,{Z:function(){return y}});var n=r(1413),a=r(4925),o=r(2791),u=r(9970),i=r(7852),c=r(3433),l=r(2646),s=r(2064),d=r.n(s),v=r(2127),f=r(7725),p=r(3054),g=function(t){return null!==t&&"object"===typeof t?t.valueOf():t},A=r(184),m=["data"],h=function(t){var e=t.data,r=(0,a.Z)(t,m),s=o.useRef(null),h=o.useRef(null),y=(0,i.Z)(),S=y.width,x=y.height;return o.useLayoutEffect((function(){var t;(null===e||void 0===e||null===(t=e.links)||void 0===t?void 0:t.length)>0&&s.current&&h.current&&function(t){var e,r=t.data,n=t.options,a=t.svg,o=t.container,u=r.nodes,i=r.links,s=[],A=[],m=[];try{var h=n.format,y=void 0===h?l.WUZ:h,S=n.nodeId,x=n.nodeLabel,P=n.nodeAlign,k=void 0===P?p.PT:P,I=n.nodeWidth,M=void 0===I?24:I,K=n.nodePadding,N=void 0===K?20:K,E=n.nodeLabelPadding,w=void 0===E?6:E,Z=n.linkSource,b=void 0===Z?function(t){return t.source}:Z,D=n.linkTarget,J=void 0===D?function(t){return t.target}:D,T=n.linkValue,Y=void 0===T?function(t){return t.value}:T,B=n.linkTitle,L=n.linkMixBlendMode,C=void 0===L?"normal":L,F=n.colors,U=void 0===F?l.K2I:F,G=n.width,R=void 0===G?640:G,W=n.height,j=void 0===W?400:W,z=n.nodeGroup,H=n.standardizeNode,V=n.standardizeLink,O=n.onMouseEnterLink,_=n.onMouseEnterNode,X=n.onMouseLeaveLink,q=n.onMouseLeaveNode,Q=n.linkColor,$=void 0===Q?"source-target":Q;i=i.map((function(t){return V(t)}));var tt=l.UID(i,b).map(g),et=l.UID(i,J).map(g),rt=l.UID(i,Y);u=Array.from(l.G0j(tt,et),(function(t){return{id:t,name:t}})).map((function(t){return H(t)}));var nt=l.UID(u,S).map(g);m=l.UID(u,(function(t){return z(t)})).map(g),u=l.UID(u,(function(t,e){return{id:nt[e]}})),i=l.UID(i,(function(t,e){return{source:tt[e],target:et[e],value:rt[e]}})),!m&&["source","target","source-target"].includes($)&&($="currentColor");var at=m;e=l.PKp(at,U),s=l.UID(u,(function(t){return x?x(t):t.id}));var ot=v.Z().nodeId((function(t){var e=t.index;return nt[e]})).nodeAlign(k).nodeWidth(M).nodePadding(N).extent([[20,20],[R-10,j-10]]),ut=ot({nodes:(0,c.Z)(u),links:(0,c.Z)(i)});u=ut.nodes,i=ut.links,A=l.UID(i,(function(t){return B?B(t):"".concat(t.source.id," \u2192 ").concat(t.target.id,"\n").concat(y(t.value))}));var it=l.Ys(a).attr("width",R).attr("height",j).attr("viewbox","0, 0, ".concat(R,",").concat(j));it.html("");var ct="O-".concat(Math.random().toString(16).slice(2)),lt=it.append("g").attr("fill","none").attr("class","g-links").selectAll("g").data(i).join("g").style("mix-blend-mode",C).attr("class","g-link").attr("stroke",(function(t){return"url(#".concat(ct,"-link-").concat(t.index,")")}));lt.append("linearGradient").attr("id",(function(t){return"".concat(ct,"-link-").concat(t.index)})).attr("gradientUnits","userSpaceOnUse").attr("x1",(function(t){return t.source.x1})).attr("x2",(function(t){return t.target.x0})).call((function(t){return t.append("stop").attr("offset","0%").attr("stop-color",(function(t){var r=t.source.index;return e(m[r])}))})).call((function(t){return t.append("stop").attr("offset","100%").attr("stop-color",(function(t){var r=t.target.index;return e(m[r])}))}));var st=lt.append("path").attr("class","path-link").attr("stroke-width",(function(t){return Math.max(t.width,1)})).attr("cursor","pointer").attr("opacity",.5).on("mouseenter",(function(t,e){l.Ys(t.target).attr("opacity","1");var r=e.index,n=A[r],a=t.pageX,u=t.pageY;l.Ys(o).selectChild(".tooltip").html(n).style("opacity","1").style("visibility","visible").style("left","".concat(a+20,"px")).style("top","".concat(u-20,"px")),"function"===typeof O&&O(t,e)})).on("mouseleave",(function(t,e){l.Ys(t.target).attr("opacity","0.5"),l.Ys(o).selectChild(".tooltip").style("opacity","0").style("visibility","hidden"),"function"===typeof X&&X(t,e)})).attr("d",(function(t){return f.Z()(t)})),dt=it.append("g").attr("class","g-nodes").selectAll("g").data(ut.nodes).enter().append("g").attr("class","g-node").call((function(t){return l.ohM().on("start",(function(){this.parentNode&&this.parentNode.appendChild(this)})).on("drag",(function(t){var e=Number(l.Ys(this).select("rect").attr("y")),r=t.subject;r.y0+=t.dy;var n=r.y0-e;l.Ys(this).attr("transform","translate(0,".concat(n,")")),st.attr("d",(function(t){return f.Z()(t)})),ot.update(ut)}))(t)}));dt.append("rect").attr("cursor","pointer").attr("x",(function(t){return t.x0})).attr("y",(function(t){return t.y0})).attr("height",(function(t){return Math.max(t.y1-t.y0,1)})).attr("width",(function(t){return t.x1-t.x0})).attr("fill",(function(t){return U[t.depth]})).on("mouseenter",(function(t,e){var r=e.sourceLinks,n=e.targetLinks,a=d()([].concat((0,c.Z)(r.map((function(t){return t.index}))),(0,c.Z)(n.map((function(t){return t.index})))));st.attr("opacity",(function(t){return a.includes(t.index)?"1":"0.5"})),"function"===typeof _&&_(t,e)})).on("mouseleave",(function(t,e){st.attr("opacity","0.5"),"function"===typeof q&&q(t,e)})),dt.append("text").join("text").attr("x",(function(t){return t.x0<R/2?t.x1+w:t.x0-w})).attr("y",(function(t){return(t.y1+t.y0)/2})).attr("dy","0.35em").attr("text-anchor",(function(t){return t.x0<R/2?"start":"end"})).attr("fill","#FFFFFF").attr("stroke","#FFFFFF").attr("font-size","16").text((function(t){var e=t.index;return s[e]}))}catch(vt){}}({data:e,options:{nodeWidth:24,nodeGroup:function(t){return t.id.split(/\W/)[0]},nodeId:function(t){return t.id},standardizeNode:function(t){return{id:t.name}},standardizeLink:function(t){return{source:t.source,target:t.target,value:t.value}},width:.5*S,height:.75*x},svg:h.current,container:s.current})}),[s,h,e]),(0,A.jsx)(u.Z,(0,n.Z)((0,n.Z)({},(0,n.Z)((0,n.Z)({},r),{},{ref:{ref:s,refSVG:h}})),{},{children:(0,A.jsx)("div",{className:"tooltip fixed -[1000] invisible opacity-0 flex justify-center items-center p-[10px] h-[40px] bg-white rounded-[4px] shadow-xl text-black"})}))},y=o.memo(h)},7852:function(t,e,r){var n=r(9439),a=r(2791),o=function(){var t=window;return{width:t.innerWidth,height:t.innerHeight}};e.Z=function(){var t=(0,a.useState)(o()),e=(0,n.Z)(t,2),r=e[0],u=e[1];return(0,a.useEffect)((function(){function t(){u(o())}return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),r}},2370:function(t,e,r){r.r(e),r.d(e,{default:function(){return c}});var n=r(2791),a=r(6611),o=JSON.parse('{"nodes":[{"name":"KASA"},{"name":"Scope 1"},{"name":"Scope 2"},{"name":"MINISTRY"},{"name":"JPS"},{"name":"JAS"},{"name":"BBA"},{"name":"MET"},{"name":"JPP"},{"name":"NAHRIM"},{"name":"JBK"},{"name":"SPAN"},{"name":"IWK"},{"name":"PAAB"},{"name":"MGTC"},{"name":"YPASM"},{"name":"Petrol"},{"name":"Electricity"},{"name":"Diesel"},{"name":"Electricity (EV)"}],"links":[{"source":"MINISTRY","target":"Petrol","value":65625.24024},{"source":"MINISTRY","target":"Electricity","value":1068384.915},{"source":"JPS","target":"Petrol","value":92110.29181275},{"source":"JPS","target":"Diesel","value":36242.923528485},{"source":"JAS","target":"Petrol","value":613758.36759},{"source":"JAS","target":"Diesel","value":121813.54809075},{"source":"BBA","target":"Petrol","value":11815.68075},{"source":"MET","target":"Petrol","value":29614.9794},{"source":"JPP","target":"Petrol","value":1921.89375},{"source":"NAHRIM","target":"Petrol","value":11826.663},{"source":"NAHRIM","target":"Electricity","value":896463.945},{"source":"JBK","target":"Petrol","value":1674.6711},{"source":"SPAN","target":"Petrol","value":62622.131775},{"source":"SPAN","target":"Diesel","value":12605.632641},{"source":"SPAN","target":"Electricity","value":896463.945},{"source":"IWK","target":"Petrol","value":381940.080375},{"source":"IWK","target":"Diesel","value":2346931.53669127},{"source":"PAAB","target":"Petrol","value":10226.1831},{"source":"MGTC","target":"Petrol","value":1995.8409},{"source":"MGTC","target":"Electricity (EV)","value":52.0128},{"source":"MGTC","target":"Electricity","value":60369.075},{"source":"YPASM","target":"Petrol","value":5109.162345},{"source":"Diesel","target":"Scope 1","value":2517593.64},{"source":"Electricity","target":"Scope 2","value":2921681.88},{"source":"Electricity (EV)","target":"Scope 1","value":52.0128},{"source":"Petrol","target":"Scope 1","value":1290241.186},{"source":"KASA","target":"MINISTRY","value":1134010.155},{"source":"KASA","target":"JPS","value":128353.22},{"source":"KASA","target":"JAS","value":735571.92},{"source":"KASA","target":"BBA","value":11815.68075},{"source":"KASA","target":"MET","value":29614.9794},{"source":"KASA","target":"JPP","value":1921.89375},{"source":"KASA","target":"NAHRIM","value":908290.61},{"source":"KASA","target":"JBK","value":1674.6711},{"source":"KASA","target":"SPAN","value":971691.71},{"source":"KASA","target":"IWK","value":2728871.62},{"source":"KASA","target":"PAAB","value":10226.1831},{"source":"KASA","target":"MGTC","value":62416.93},{"source":"KASA","target":"YPASM","value":5109.162345}]}'),u=r(184),i=function(){return(0,u.jsx)(a.Z,{data:o})},c=n.memo(i)}}]);
//# sourceMappingURL=370.e6c732c3.chunk.js.map