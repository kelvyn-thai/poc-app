"use strict";(self.webpackChunkpoc_app=self.webpackChunkpoc_app||[]).push([[181,928],{7888:function(e,t,o){o.r(t),o.d(t,{default:function(){return k}});var r=o(7861),i=o(1413),n=o(4925),a=o(6170),y=o(3433),p=o(9439),c=o(5638);function d(e){return e.k}function s(e){return[e.x,e.y]}function u(e){return function(){return e}}var l=o(5515),m=function(e){var t=e.svg,o=e.width,r=void 0===o?928:o,i=e.height,n=void 0===i?500:i,a=e.items,m=e.container,g=e.features,P=e.geojson,F=e.scaleRatio,f=c.Ys(t),h=c.Ys(m);f.html(""),f.attr("viewBox",[0,0,r,n]);var v,x=c.mw4().scale(1/(2*Math.PI)).translate([0,0]),b=c.l49(x),M=function(){var e=0,t=0,o=960,r=500,i=!0,n=!0,a=256,y=d,p=s,c=0;function l(){for(var d=+y.apply(this,arguments),s=p.apply(this,arguments),u=Math.log2(d/a),l=Math.round(Math.max(u+c,0)),m=Math.pow(2,u-l)*a,g=+s[0]-d/2,P=+s[1]-d/2,F=Math.max(i?0:-1/0,Math.floor((e-g)/m)),f=Math.min(i?1<<l:1/0,Math.ceil((o-g)/m)),h=Math.max(n?0:-1/0,Math.floor((t-P)/m)),v=Math.min(n?1<<l:1/0,Math.ceil((r-P)/m)),x=[],b=h;b<v;++b)for(var M=F;M<f;++M)x.push([M,b,l]);return x.translate=[g/m,P/m],x.scale=m,x}return l.size=function(i){return arguments.length?(e=t=0,o=+i[0],r=+i[1],l):[o-e,r-t]},l.extent=function(i){return arguments.length?(e=+i[0][0],t=+i[0][1],o=+i[1][0],r=+i[1][1],l):[[e,t],[o,r]]},l.scale=function(e){return arguments.length?(y="function"===typeof e?e:u(+e),l):y},l.translate=function(e){return arguments.length?(p="function"===typeof e?e:u([+e[0],+e[1]]),l):p},l.zoomDelta=function(e){return arguments.length?(c=+e,l):c},l.tileSize=function(e){return arguments.length?(a=+e,l):a},l.clamp=function(e){return arguments.length?(i=n=!!e,l):i&&n},l.clampX=function(e){return arguments.length?(i=!!e,l):i},l.clampY=function(e){return arguments.length?(n=!!e,l):n},l}().extent([[0,0],[r,n]]).tileSize(512),k=f.append("g").attr("pointer-events","none").selectAll("image"),Z=f.append("path").attr("class","feature-path").attr("pointer-events","none").attr("fill",(function(){return"red"})),j=f.append("path").attr("pointer-events","none").attr("fill","none").attr("class","map-path"),w=f.append("g"),N=l.g().extent([[0,0],[r,n]]).radius(9).x((function(e){var t=x(e);return(0,p.Z)(t,1)[0]})).y((function(e){var t=x(e);return(0,p.Z)(t,2)[1]})),C=a.map((function(e){var t=e.coordinates;return[].concat((0,y.Z)(t),[e])})),I=function(e){h.selectAll(".tooltip").attr("visibility","hidden").style("opacity",0).style("visibility","hidden");var t=M(e);k=k.data(t,(function(e){return e})).join("image").attr("xlink:href",(function(e){var t=(0,p.Z)(e,3);return function(e,t,o){return"https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/".concat(o,"/").concat(e,"/").concat(t).concat(devicePixelRatio>1?"@2x":"","?access_token=pk.eyJ1IjoieWtkbjk2cyIsImEiOiJjbDU5bmhlaGwwMTU1M2tvMTJidTJ1bjRxIn0.7BuOOOeDnw0ybTrxcv_I8Q")}(t[0],t[1],t[2])})).attr("x",(function(e){return((0,p.Z)(e,1)[0]+t.translate[0])*t.scale})).attr("y",(function(e){return((0,p.Z)(e,2)[1]+t.translate[1])*t.scale})).attr("width",t.scale).attr("height",t.scale),x.scale(e.k/(2*Math.PI)).translate([e.x,e.y]),(v=w.selectAll("path").data(N(C))).enter().append("path").merge(v).attr("transform",(function(e){return"translate(".concat(e.x,",").concat(e.y,")")})).attr("d",N.hexagon()).attr("cursor","pointer").attr("fill",(function(e){return e[0][2].color})).attr("stroke","currentColor").attr("stroke-width","0.5").on("click",(function(e,t){try{var o=t[0][2].id,r=e.pageX,i=e.pageY,n=h.select("#item-".concat(o)),a="visible"===n.attr("visibility"),y="".concat(a?"hidden":"visible");n.attr("visibility",y).style("visibility",y).style("opacity","".concat(a?"0":"1")).style("left","".concat(r+20,"px")).style("top","".concat(i-20,"px"))}catch(p){}})),j.attr("d",b(P)),Z.attr("d",b(g))},R=c.sPX().scaleExtent([256,1<<30]).extent([[0,0],[r,n]]).on("zoom",(function(e){var t=e.transform;return I(t)})),_=c.l49().centroid(g),S=x(_);return f.call((function(e){return R(e)})).call((function(e){var t;return R.transform(e,(t=c.CRH.translate(r/2,n/2).scale(-1<<F)).translate.apply(t,(0,y.Z)(S)).scale(-1))})),f.node()},g=JSON.parse('{"type":"FeatureCollection","features":[{"type":"Feature","id":0,"geometry":{"type":"Point","coordinates":[-122.084917,37.423156]}},{"type":"Feature","id":1,"geometry":{"type":"Point","coordinates":[-83.74379,42.280119]}},{"type":"Feature","id":2,"geometry":{"type":"Point","coordinates":[-84.387392,33.781484]}},{"type":"Feature","id":3,"geometry":{"type":"Point","coordinates":[-97.736708,30.386272]}},{"type":"Feature","id":4,"geometry":{"type":"Point","coordinates":[-105.261166,40.021563]}},{"type":"Feature","id":5,"geometry":{"type":"Point","coordinates":[-71.087422,42.362809]}},{"type":"Feature","id":6,"geometry":{"type":"Point","coordinates":[-87.628756,41.889244]}},{"type":"Feature","id":7,"geometry":{"type":"Point","coordinates":[-83.215578,42.548133]}},{"type":"Feature","id":8,"geometry":{"type":"Point","coordinates":[-117.860212,33.659782]}},{"type":"Feature","id":9,"geometry":{"type":"Point","coordinates":[-122.196701,47.670127]}},{"type":"Feature","id":10,"geometry":{"type":"Point","coordinates":[-89.373651,43.077665]}},{"type":"Feature","id":11,"geometry":{"type":"Point","coordinates":[-74.004624,40.741962]}},{"type":"Feature","id":12,"geometry":{"type":"Point","coordinates":[-74.004915,40.742412]}},{"type":"Feature","id":13,"geometry":{"type":"Point","coordinates":[-74.004915,40.742412]}},{"type":"Feature","id":14,"geometry":{"type":"Point","coordinates":[-79.916085,40.456711]}},{"type":"Feature","id":15,"geometry":{"type":"Point","coordinates":[-77.358534,38.958408]}},{"type":"Feature","id":16,"geometry":{"type":"Point","coordinates":[-122.390576,37.789904]}},{"type":"Feature","id":17,"geometry":{"type":"Point","coordinates":[-118.477035,33.995337]}},{"type":"Feature","id":18,"geometry":{"type":"Point","coordinates":[-122.350509,47.649041]}},{"type":"Feature","id":19,"geometry":{"type":"Point","coordinates":[-77.027636,38.901654]}},{"type":"Feature","id":20,"geometry":{"type":"Point","coordinates":[-74.004915,40.742412]}},{"type":"Feature","id":21,"geometry":{"type":"Point","coordinates":[-79.916085,40.456711]}},{"type":"Feature","id":22,"geometry":{"type":"Point","coordinates":[-77.358534,38.958408]}},{"type":"Feature","id":23,"geometry":{"type":"Point","coordinates":[-122.390576,37.789904]}},{"type":"Feature","id":24,"geometry":{"type":"Point","coordinates":[-118.477035,33.995337]}},{"type":"Feature","id":25,"geometry":{"type":"Point","coordinates":[-122.350509,47.649041]}},{"type":"Feature","id":26,"geometry":{"type":"Point","coordinates":[-77.027636,38.901654]}},{"type":"Feature","id":27,"geometry":{"type":"Point","coordinates":[151.195521,-33.866674]}},{"type":"Feature","id":28,"geometry":{"type":"Point","coordinates":[100.542669,13.747285]}},{"type":"Feature","id":29,"geometry":{"type":"Point","coordinates":[116.329508,39.994021]}},{"type":"Feature","id":30,"geometry":{"type":"Point","coordinates":[113.322574,23.150018]}},{"type":"Feature","id":31,"geometry":{"type":"Point","coordinates":[121.507687,31.234573]}},{"type":"Feature","id":32,"geometry":{"type":"Point","coordinates":[114.182842,22.278563]}},{"type":"Feature","id":33,"geometry":{"type":"Point","coordinates":[77.660471,12.99343]}},{"type":"Feature","id":34,"geometry":{"type":"Point","coordinates":[77.095184,28.523003]}},{"type":"Feature","id":35,"geometry":{"type":"Point","coordinates":[78.372452,17.458359]}},{"type":"Feature","id":36,"geometry":{"type":"Point","coordinates":[72.835772,18.929407]}},{"type":"Feature","id":37,"geometry":{"type":"Point","coordinates":[139.729013,35.660434]}},{"type":"Feature","id":38,"geometry":{"type":"Point","coordinates":[126.984787,37.527698]}},{"type":"Feature","id":39,"geometry":{"type":"Point","coordinates":[103.850992,1.2792]}},{"type":"Feature","id":40,"geometry":{"type":"Point","coordinates":[121.564804,25.033685]}},{"type":"Feature","id":41,"geometry":{"type":"Point","coordinates":[101.717461,3.160474]}},{"type":"Feature","id":42,"geometry":{"type":"Point","coordinates":[4.380777,50.838414]}},{"type":"Feature","id":43,"geometry":{"type":"Point","coordinates":[14.402671,50.070312]}},{"type":"Feature","id":44,"geometry":{"type":"Point","coordinates":[10.187759,56.172173]}},{"type":"Feature","id":45,"geometry":{"type":"Point","coordinates":[12.570162,55.680691]}},{"type":"Feature","id":46,"geometry":{"type":"Point","coordinates":[24.941001,60.168149]}},{"type":"Feature","id":47,"geometry":{"type":"Point","coordinates":[25.509665,65.009612]}},{"type":"Feature","id":48,"geometry":{"type":"Point","coordinates":[2.332771,48.870022]}},{"type":"Feature","id":49,"geometry":{"type":"Point","coordinates":[-0.194291,5.564545]}},{"type":"Feature","id":50,"geometry":{"type":"Point","coordinates":[9.986089,53.554058]}},{"type":"Feature","id":51,"geometry":{"type":"Point","coordinates":[11.577315,48.138728]}},{"type":"Feature","id":52,"geometry":{"type":"Point","coordinates":[23.760166,37.984782]}},{"type":"Feature","id":53,"geometry":{"type":"Point","coordinates":[19.039993,47.528503]}},{"type":"Feature","id":54,"geometry":{"type":"Point","coordinates":[-6.236458,53.339855]}},{"type":"Feature","id":55,"geometry":{"type":"Point","coordinates":[9.1959,45.464525]}},{"type":"Feature","id":56,"geometry":{"type":"Point","coordinates":[4.891491,52.376018]}},{"type":"Feature","id":57,"geometry":{"type":"Point","coordinates":[3.429044,6.449441]}},{"type":"Feature","id":58,"geometry":{"type":"Point","coordinates":[10.71899,59.914395]}},{"type":"Feature","id":59,"geometry":{"type":"Point","coordinates":[21.002032,52.233585]}},{"type":"Feature","id":60,"geometry":{"type":"Point","coordinates":[19.937943,50.060466]}},{"type":"Feature","id":61,"geometry":{"type":"Point","coordinates":[17.041984,51.116967]}},{"type":"Feature","id":62,"geometry":{"type":"Point","coordinates":[-9.138222,38.718767]}},{"type":"Feature","id":63,"geometry":{"type":"Point","coordinates":[37.626355,55.746665]}},{"type":"Feature","id":64,"geometry":{"type":"Point","coordinates":[30.081505,59.831581]}},{"type":"Feature","id":65,"geometry":{"type":"Point","coordinates":[-3.692996,40.450316]}},{"type":"Feature","id":66,"geometry":{"type":"Point","coordinates":[-17.428243160248,14.672123651772]}},{"type":"Feature","id":67,"geometry":{"type":"Point","coordinates":[18.052533,59.332752]}},{"type":"Feature","id":68,"geometry":{"type":"Point","coordinates":[8.526496,47.365404]}},{"type":"Feature","id":69,"geometry":{"type":"Point","coordinates":[30.522557,50.460199]}},{"type":"Feature","id":70,"geometry":{"type":"Point","coordinates":[-0.146663,51.495238]}},{"type":"Feature","id":71,"geometry":{"type":"Point","coordinates":[-0.146725,51.49355]}},{"type":"Feature","id":72,"geometry":{"type":"Point","coordinates":[-0.127474,51.515953]}},{"type":"Feature","id":73,"geometry":{"type":"Point","coordinates":[-2.243872,53.476962]}},{"type":"Feature","id":74,"geometry":{"type":"Point","coordinates":[-73.570697,45.502256]}},{"type":"Feature","id":75,"geometry":{"type":"Point","coordinates":[-79.38048,43.65647]}},{"type":"Feature","id":76,"geometry":{"type":"Point","coordinates":[-80.498999,43.451382]}},{"type":"Feature","id":77,"geometry":{"type":"Point","coordinates":[-58.4198,-34.563121]}},{"type":"Feature","id":78,"geometry":{"type":"Point","coordinates":[-43.940782,-19.929556]}},{"type":"Feature","id":79,"geometry":{"type":"Point","coordinates":[-46.681702,-23.590035]}},{"type":"Feature","id":80,"geometry":{"type":"Point","coordinates":[-99.203582,19.427623]}},{"type":"Feature","id":81,"geometry":{"type":"Point","coordinates":[-74.075833,4.5980556]}},{"type":"Feature","id":82,"geometry":{"type":"Point","coordinates":[31.227608,30.064043]}},{"type":"Feature","id":83,"geometry":{"type":"Point","coordinates":[34.95833,32.789155]}},{"type":"Feature","id":84,"geometry":{"type":"Point","coordinates":[34.779748,32.063883]}},{"type":"Feature","id":85,"geometry":{"type":"Point","coordinates":[29.010086,41.083492]}},{"type":"Feature","id":86,"geometry":{"type":"Point","coordinates":[55.307407,25.271709]}},{"type":"Feature","id":87,"geometry":{"type":"Point","coordinates":[28.021946,-26.041773]}},{"type":"Feature","id":88,"geometry":{"type":"Point","coordinates":[36.811569,-1.270102]}},{"type":"Feature","id":89,"geometry":{"type":"Point","coordinates":[32.581898,0.330134]}},{"type":"Feature","id":90,"geometry":{"type":"Point","coordinates":[174.765487,-36.843048]}}]}'),P=JSON.parse('{"Y":[{"id":"point1","name":"pointname1","type":"point","color":"#234323","position":[103.887903,1.300781],"attributes":"project1;starting from 2019;Serial12313;Alert:None"}],"Q":22}'),F="D3ZoomableMapTiles_styles_item__s2l2w",f=o(7770),h=["data"],v=function(e){var t=e.data.features,o=(0,n.Z)(e,h),y=r.useRef(null),p=r.useRef(null),c=P.Y,d=P.Q,s=r.useMemo((function(){return c.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{coordinates:e.position})}))}),[c]),u=r.useCallback((function(e){return[{label:"#ID",value:e.id},{label:"Item Name",value:e.name},{label:"Coordinates",value:e.position},{label:"Attributes",value:e.attributes}].map((function(e){var t=e.label,o=e.value;return(0,f.jsxs)("div",{className:"".concat(F),children:[(0,f.jsx)("div",{className:"font-medium",children:t}),(0,f.jsx)("div",{className:"",children:o})]},t)}))}),[]),l=r.useMemo((function(){return s.map((function(e){var t=e.id;return(0,f.jsx)("div",{id:"item-".concat(t),className:"tooltip fixed -[1000] invisible opacity-0 flex flex-col p-[10px] h-[fit-content] bg-white rounded-[4px] shadow-xl text-black text-xs",children:u(e)},t)}))}),[s]);return r.useLayoutEffect((function(){y.current&&p.current&&!o.isLoading&&m({svg:p.current,container:y.current,features:t,items:s,geojson:g,scaleRatio:d})}),[y,p,o.isLoading,t,s,g,d]),(0,f.jsx)(a.Z,(0,i.Z)((0,i.Z)({classNameContainer:"".concat(o.classNameContainer||""," min-h-[500px]"),ref:{ref:y,refSVG:p}},o),{},{children:l}))},x=r.memo(v),b=o(825),M=function(){var e=(0,b.useDataResourceStore)().tiles;return e?(0,f.jsx)(x,{data:{features:e},chartName:"Zoomable Map Tiles Chart"}):null},k=r.memo(M)}}]);
//# sourceMappingURL=181.9cbde084.chunk.js.map